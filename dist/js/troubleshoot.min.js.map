{"version":3,"file":"troubleshoot.min.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,8DAA8D,8BAA8B,IAAI,iDAAiD,IAAI,SAAS,MAAM,kDAAkD,IAAI,SAAS;AACpR;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,8DAA8D,8BAA8B,IAAI,kDAAkD,IAAI,8CAA8C;AAC7P;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gEAAgE;AAChG;AACA;AACA;AACA;AACA;AACA,sFAAsF,mDAAmD;AACzI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,mHAAmH;AACnH;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,iGAAiG;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,MAAM;AAClE;AACA,aAAa;AACb;AACA;AACA;AACA,kDAAkD;AAClD,+BAA+B;AAC/B;AACA;AACA,sDAAsD,WAAW;AACjE;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,uBAAuB;AAC5C,wDAAwD,QAAQ;AAChE;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,OAAO;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA,iEAAiE,WAAW;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,OAAO;AAC5D;AACA,UAAU;AACV;AACA;AACA;AACA,8CAA8C,WAAW,IAAI,cAAc;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,OAAO;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,OAAO;AACnE,sEAAsE,OAAO;AAC7E,oEAAoE,OAAO;AAC3E;AACA;AACA;AACA;AACA;AACA,wCAAwC,cAAc;AACtD,mBAAmB;AACnB,yBAAyB,eAAe;AACxC;AACA;AACA;AACA,oDAAoD,eAAe;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gBAAgB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA,iCAAiC,YAAY;AAC7C;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,2BAA2B;AAC3B;AACA;AACA,4CAA4C,gCAAgC;AAC5E;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,2BAA2B;AAC3B;AACA;AACA,4CAA4C;AAC5C;AACA,uCAAuC,IAAI,gBAAgB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,QAAQ;AACvE;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,WAAW;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,uDAAuD,gBAAgB;AACvE;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC","sources":["webpack://repo-manager/./src/Assets/js/troubleshoot.js"],"sourcesContent":["/**\r\n * Enhanced Troubleshooting System for Git Manager\r\n * Provides step-by-step checks with visual feedback and solutions\r\n */\r\n\r\nclass GitTroubleshooter {\r\n    constructor() {\r\n        this.currentStep = 0;\r\n        this.totalSteps = 0;\r\n        this.results = [];\r\n        this.isRunning = false;\r\n    }\r\n\r\n    /**\r\n     * Initialize the troubleshooting interface\r\n     */\r\n    async init(repoId = null) {\r\n        this.repoId = repoId;\r\n        this.createTroubleshootUI();\r\n        this.renderSteps();\r\n        this.bindEvents();\r\n        this.updateProgress(\r\n            0,\r\n            this.totalSteps,\r\n            WPGitManagerTroubleshoot.translations.readyToStart\r\n        );\r\n\r\n        // Apply RTL support if available\r\n        this.applyRTLSupport();\r\n\r\n        // Get current repository path and update the first step description\r\n        try {\r\n            if (this.repoId) {\r\n                // Get repository-specific information\r\n                const response = await this.makeAjaxRequest(\r\n                    \"git_manager_get_repo_details\",\r\n                    { id: this.repoId }\r\n                );\r\n                if (response.success && response.data) {\r\n                    const repoPath =\r\n                        response.data.path ||\r\n                        WPGitManagerTroubleshoot.translations.unknown;\r\n                    const repoName =\r\n                        response.data.name ||\r\n                        WPGitManagerTroubleshoot.translations.unknown;\r\n                    const firstStep = document.querySelector(\r\n                        '[data-step-id=\"repo-path\"] .step-description'\r\n                    );\r\n                    if (firstStep) {\r\n                        firstStep.innerHTML = `${WPGitManagerTroubleshoot.translations.verifyingRepositoryPath}<br><small style=\"color: #666;\">${WPGitManagerTroubleshoot.translations.repository}: ${repoName}<br>${WPGitManagerTroubleshoot.translations.currentPath}: ${repoPath}</small>`;\r\n                    }\r\n                }\r\n            } else {\r\n                // Get repository information from bulk status\r\n                const response = await this.makeAjaxRequest(\r\n                    \"git_manager_bulk_repo_status\",\r\n                    {}\r\n                );\r\n                if (response.success && response.data) {\r\n                    // Get the first available repository path\r\n                    const repoIds = Object.keys(response.data);\r\n                    if (repoIds.length > 0) {\r\n                        const firstRepoId = repoIds[0];\r\n                        const repoData = response.data[firstRepoId];\r\n                        if (repoData && repoData.currentBranch) {\r\n                            // We have repository data, but we need to get the actual path\r\n                            // This is a fallback - the path should be available from the repository context\r\n                            const firstStep = document.querySelector(\r\n                                '[data-step-id=\"repo-path\"] .step-description'\r\n                            );\r\n                            if (firstStep) {\r\n                                firstStep.innerHTML = `${WPGitManagerTroubleshoot.translations.verifyingRepositoryPath}<br><small style=\"color: #666;\">${WPGitManagerTroubleshoot.translations.currentPath}: ${WPGitManagerTroubleshoot.translations.unknown}</small>`;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } catch (error) {}\r\n    }\r\n\r\n    /**\r\n     * Create the enhanced troubleshooting UI\r\n     */\r\n    createTroubleshootUI() {\r\n        const outputContainer =\r\n            document.getElementById(\"repo-manager-output\") ||\r\n            document.getElementById(\"troubleshoot-output\");\r\n        if (!outputContainer) return;\r\n\r\n        // Create the troubleshooting interface\r\n        const troubleshootHTML = `\r\n            <div id=\"troubleshoot-enhanced\" class=\"troubleshoot-container\">\r\n                <div class=\"troubleshoot-header\">\r\n                    <div class=\"troubleshoot-title\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M12 17v4\"/><path d=\"m14.305 7.53.923-.382\"/><path d=\"m15.228 4.852-.923-.383\"/><path d=\"m16.852 3.228-.383-.924\"/><path d=\"m16.852 8.772-.383.923\"/><path d=\"m19.148 3.228.383-.924\"/><path d=\"m19.53 9.696-.382-.924\"/><path d=\"m20.772 4.852.924-.383\"/><path d=\"m20.772 7.148.924.383\"/><path d=\"M22 13v2a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7\"/><path d=\"M8 21h8\"/><circle cx=\"18\" cy=\"6\" r=\"3\"/></svg>\r\n                        <span>${WPGitManagerTroubleshoot.translations.gitManagerTroubleshooting}</span>\r\n                    </div>\r\n                    <div class=\"troubleshoot-progress\">\r\n                        <div class=\"progress-bar\">\r\n                            <div class=\"progress-fill animating\" id=\"troubleshoot-progress-fill\"></div>\r\n                        </div>\r\n                        <span class=\"progress-text\" id=\"troubleshoot-progress-text\">${WPGitManagerTroubleshoot.translations.readyToStart}</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"troubleshoot-steps\" id=\"troubleshoot-steps\">\r\n                    <!-- Steps will be populated here -->\r\n                </div>\r\n\r\n                <div class=\"troubleshoot-actions\">\r\n                    <button id=\"troubleshoot-start\" class=\"btn btn-primary troubleshoot-btn\">\r\n                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polygon points=\"5 3 19 12 5 21 5 3\"/></svg>\r\n                        ${WPGitManagerTroubleshoot.translations.startTroubleshooting}\r\n                    </button>\r\n                    <button id=\"troubleshoot-stop\" class=\"btn btn-secondary troubleshoot-btn\" style=\"display: none;\">\r\n                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect width=\"18\" height=\"18\" x=\"3\" y=\"3\" rx=\"2\" ry=\"2\"/></svg>\r\n                        ${WPGitManagerTroubleshoot.translations.stop}\r\n                    </button>\r\n                    <button id=\"troubleshoot-reset\" class=\"btn btn-outline troubleshoot-btn\">\r\n                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\"/><path d=\"M21 3v5h-5\"/><path d=\"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\"/><path d=\"M3 21v-5h5\"/></svg>\r\n                        ${WPGitManagerTroubleshoot.translations.reset}\r\n                    </button>\r\n                </div>\r\n\r\n                <div class=\"troubleshoot-summary\" id=\"troubleshoot-summary\" style=\"display: none;\">\r\n                    <!-- Summary will be shown here -->\r\n                </div>\r\n            </div>\r\n        `;\r\n\r\n        outputContainer.innerHTML = troubleshootHTML;\r\n        outputContainer.classList.add(\"troubleshoot-mode\");\r\n    }\r\n\r\n    /**\r\n     * Define all troubleshooting steps\r\n     */\r\n    getTroubleshootSteps() {\r\n        return [\r\n            {\r\n                id: \"repo-path\",\r\n                title: WPGitManagerTroubleshoot.translations\r\n                    .repositoryPathCheck,\r\n                description:\r\n                    WPGitManagerTroubleshoot.translations\r\n                        .verifyingRepositoryPath,\r\n                icon: \"fa-folder\",\r\n                category: \"basic\",\r\n            },\r\n            {\r\n                id: \"git-binary\",\r\n                title: WPGitManagerTroubleshoot.translations.gitBinaryCheck,\r\n                description:\r\n                    WPGitManagerTroubleshoot.translations.checkingGitInstalled,\r\n                icon: \"fa-code-branch\",\r\n                category: \"basic\",\r\n            },\r\n            {\r\n                id: \"git-directory\",\r\n                title: WPGitManagerTroubleshoot.translations.gitDirectoryCheck,\r\n                description:\r\n                    WPGitManagerTroubleshoot.translations.verifyingGitDirectory,\r\n                icon: \"fa-git-alt\",\r\n                category: \"basic\",\r\n            },\r\n            {\r\n                id: \"safe-directory\",\r\n                title: WPGitManagerTroubleshoot.translations\r\n                    .safeDirectoryConfiguration,\r\n                description:\r\n                    WPGitManagerTroubleshoot.translations.checkingSafeDirectory,\r\n                icon: \"fa-shield-halved\",\r\n                category: \"security\",\r\n            },\r\n            {\r\n                id: \"permissions\",\r\n                title: WPGitManagerTroubleshoot.translations.filePermissions,\r\n                description:\r\n                    WPGitManagerTroubleshoot.translations.checkingPermissions,\r\n                icon: \"fa-key\",\r\n                category: \"security\",\r\n            },\r\n            {\r\n                id: \"ssh-directory\",\r\n                title: WPGitManagerTroubleshoot.translations.sshDirectorySetup,\r\n                description:\r\n                    WPGitManagerTroubleshoot.translations.verifyingSSHDirectory,\r\n                icon: \"fa-terminal\",\r\n                category: \"ssh\",\r\n            },\r\n            {\r\n                id: \"ssh-keys\",\r\n                title: WPGitManagerTroubleshoot.translations.sshKeyDetection,\r\n                description:\r\n                    WPGitManagerTroubleshoot.translations.checkingSSHKeys,\r\n                icon: \"fa-key\",\r\n                category: \"ssh\",\r\n            },\r\n            {\r\n                id: \"host-keys\",\r\n                title: WPGitManagerTroubleshoot.translations\r\n                    .hostKeyVerification,\r\n                description:\r\n                    WPGitManagerTroubleshoot.translations.checkingHostKeys,\r\n                icon: \"fa-server\",\r\n                category: \"ssh\",\r\n            },\r\n            {\r\n                id: \"git-config\",\r\n                title: WPGitManagerTroubleshoot.translations.gitConfiguration,\r\n                description:\r\n                    WPGitManagerTroubleshoot.translations.verifyingGitConfig,\r\n                icon: \"fa-cog\",\r\n                category: \"config\",\r\n            },\r\n            {\r\n                id: \"remote-test\",\r\n                title: WPGitManagerTroubleshoot.translations\r\n                    .remoteConnectionTest,\r\n                description:\r\n                    WPGitManagerTroubleshoot.translations\r\n                        .testingRemoteConnection,\r\n                icon: \"fa-wifi\",\r\n                category: \"network\",\r\n            },\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * Render all steps in the UI\r\n     */\r\n    renderSteps() {\r\n        const stepsContainer = document.getElementById(\"troubleshoot-steps\");\r\n        const steps = this.getTroubleshootSteps();\r\n        this.totalSteps = steps.length;\r\n\r\n        let stepsHTML = \"\";\r\n        steps.forEach((step, index) => {\r\n            stepsHTML += `\r\n                <div class=\"troubleshoot-step\" data-step=\"${index}\" data-step-id=\"${\r\n                step.id\r\n            }\">\r\n                    <div class=\"step-header\">\r\n                                                 <div class=\"step-icon\" data-icon=\"${\r\n                                                     step.icon\r\n                                                 }\">\r\n                             ${this.getLucideIcon(step.icon)}\r\n                         </div>\r\n                        <div class=\"step-info\">\r\n                            <div class=\"step-title\">${step.title}</div>\r\n                            <div class=\"step-description\">${\r\n                                step.description\r\n                            }</div>\r\n                        </div>\r\n                        <div class=\"step-status\">\r\n                                                     <div class=\"status-icon\" id=\"status-${\r\n                                                         step.id\r\n                                                     }\">\r\n                             <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><polyline points=\"12,6 12,12 16,14\"/></svg>\r\n                         </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"step-content\" id=\"content-${\r\n                        step.id\r\n                    }\" style=\"display: none;\">\r\n                        <div class=\"step-log\" id=\"log-${step.id}\"></div>\r\n                        <div class=\"step-solution\" id=\"solution-${\r\n                            step.id\r\n                        }\" style=\"display: none;\"></div>\r\n                    </div>\r\n                </div>\r\n            `;\r\n        });\r\n\r\n        stepsContainer.innerHTML = stepsHTML;\r\n    }\r\n\r\n    /**\r\n     * Bind event handlers\r\n     */\r\n    bindEvents() {\r\n        // Start troubleshooting\r\n        document\r\n            .getElementById(\"troubleshoot-start\")\r\n            ?.addEventListener(\"click\", () => {\r\n                this.startTroubleshooting();\r\n            });\r\n\r\n        // Stop troubleshooting\r\n        document\r\n            .getElementById(\"troubleshoot-stop\")\r\n            ?.addEventListener(\"click\", () => {\r\n                this.stopTroubleshooting();\r\n            });\r\n\r\n        // Reset troubleshooting\r\n        document\r\n            .getElementById(\"troubleshoot-reset\")\r\n            ?.addEventListener(\"click\", () => {\r\n                this.resetTroubleshooting();\r\n            });\r\n\r\n        // Step click to expand/collapse\r\n        document.addEventListener(\"click\", (e) => {\r\n            if (e.target.closest(\".step-header\")) {\r\n                const step = e.target.closest(\".troubleshoot-step\");\r\n                const stepId = step.dataset.stepId;\r\n                const content = document.getElementById(`content-${stepId}`);\r\n                if (content) {\r\n                    content.style.display =\r\n                        content.style.display === \"none\" ? \"block\" : \"none\";\r\n                    step.classList.toggle(\"expanded\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Start the troubleshooting process\r\n     */\r\n    async startTroubleshooting() {\r\n        if (this.isRunning) return;\r\n\r\n        this.isRunning = true;\r\n        this.currentStep = 0;\r\n        this.results = [];\r\n\r\n        // Update UI\r\n        document.getElementById(\"troubleshoot-start\").style.display = \"none\";\r\n        document.getElementById(\"troubleshoot-stop\").style.display =\r\n            \"inline-flex\";\r\n        document.getElementById(\"troubleshoot-summary\").style.display = \"none\";\r\n\r\n        // Render steps\r\n        this.renderSteps();\r\n\r\n        // Start processing steps\r\n        await this.processSteps();\r\n    }\r\n\r\n    /**\r\n     * Process all troubleshooting steps\r\n     */\r\n    async processSteps() {\r\n        const steps = this.getTroubleshootSteps();\r\n\r\n        for (let i = 0; i < steps.length; i++) {\r\n            if (!this.isRunning) break; // Check if stopped\r\n\r\n            this.currentStep = i;\r\n            const step = steps[i];\r\n\r\n            // Update progress\r\n            this.updateProgress(i + 1, steps.length, `Running: ${step.title}`);\r\n\r\n            // Update step status to running\r\n            this.updateStepStatus(step.id, \"running\");\r\n\r\n            try {\r\n                // Execute step\r\n                const result = await this.executeStep(step);\r\n                this.results.push(result);\r\n\r\n                // Update step status based on result\r\n                this.updateStepStatus(step.id, result.status);\r\n\r\n                // Show step content\r\n                this.showStepContent(step.id, result);\r\n\r\n                // Small delay for better UX\r\n                await this.delay(500);\r\n            } catch (error) {\r\n                this.updateStepStatus(step.id, \"error\");\r\n                this.results.push({\r\n                    stepId: step.id,\r\n                    status: \"error\",\r\n                    message: error.message,\r\n                    solution: \"An unexpected error occurred. Please try again.\",\r\n                });\r\n            }\r\n        }\r\n\r\n        // Show summary\r\n        this.showSummary();\r\n\r\n        // Reset UI\r\n        this.isRunning = false;\r\n        document.getElementById(\"troubleshoot-start\").style.display =\r\n            \"inline-flex\";\r\n        document.getElementById(\"troubleshoot-stop\").style.display = \"none\";\r\n        this.updateProgress(\r\n            0,\r\n            0,\r\n            WPGitManagerTroubleshoot.translations.troubleshootingCompleted\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Execute a single troubleshooting step\r\n     */\r\n    async executeStep(step) {\r\n        const stepId = step.id;\r\n\r\n        try {\r\n            switch (stepId) {\r\n                case \"repo-path\":\r\n                    return await this.checkRepoPath();\r\n                case \"git-binary\":\r\n                    return await this.checkGitBinary();\r\n                case \"git-directory\":\r\n                    return await this.checkGitDirectory();\r\n                case \"safe-directory\":\r\n                    return await this.checkSafeDirectory();\r\n                case \"permissions\":\r\n                    return await this.checkPermissions();\r\n                case \"ssh-directory\":\r\n                    return await this.checkSshDirectory();\r\n                case \"ssh-keys\":\r\n                    return await this.checkSshKeys();\r\n                case \"host-keys\":\r\n                    return await this.checkHostKeys();\r\n                case \"git-config\":\r\n                    return await this.checkGitConfig();\r\n                case \"remote-test\":\r\n                    return await this.testRemoteConnection();\r\n                default:\r\n                    throw new Error(`Unknown step: ${stepId}`);\r\n            }\r\n        } catch (error) {\r\n            return {\r\n                stepId: stepId,\r\n                status: \"error\",\r\n                message: `Failed to execute ${step.title}: ${error.message}`,\r\n                solution:\r\n                    \"Please check the browser console for more details and try again.\",\r\n                details: error.stack || error.message,\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check repository path\r\n     */\r\n    async checkRepoPath() {\r\n        try {\r\n            const requestData = {\r\n                step: \"repo-path\",\r\n            };\r\n\r\n            // Add repository ID if available\r\n            if (this.repoId) {\r\n                requestData.repo_id = this.repoId;\r\n            }\r\n\r\n            const response = await this.makeAjaxRequest(\r\n                \"git_manager_troubleshoot_step\",\r\n                requestData\r\n            );\r\n\r\n            return {\r\n                stepId: \"repo-path\",\r\n                status:\r\n                    response.data.status ||\r\n                    (response.success ? \"success\" : \"error\"),\r\n                message: response.data.message,\r\n                solution: response.data.solution || null,\r\n                details: response.data.details || null,\r\n            };\r\n        } catch (error) {\r\n            return {\r\n                stepId: \"repo-path\",\r\n                status: \"error\",\r\n                message:\r\n                    WPGitManagerTroubleshoot.translations.failedToCheckPath,\r\n                solution:\r\n                    WPGitManagerTroubleshoot.translations.verifyPathInSettings,\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check Git binary\r\n     */\r\n    async checkGitBinary() {\r\n        try {\r\n            const requestData = {\r\n                step: \"git-binary\",\r\n            };\r\n\r\n            // Add repository ID if available\r\n            if (this.repoId) {\r\n                requestData.repo_id = this.repoId;\r\n            }\r\n\r\n            const response = await this.makeAjaxRequest(\r\n                \"git_manager_troubleshoot_step\",\r\n                requestData\r\n            );\r\n\r\n            return {\r\n                stepId: \"git-binary\",\r\n                status:\r\n                    response.data.status ||\r\n                    (response.success ? \"success\" : \"error\"),\r\n                message: response.data.message,\r\n                solution: response.data.solution || null,\r\n                details: response.data.details || null,\r\n            };\r\n        } catch (error) {\r\n            return {\r\n                stepId: \"git-binary\",\r\n                status: \"error\",\r\n                message: WPGitManagerTroubleshoot.translations.failedToCheckGit,\r\n                solution:\r\n                    WPGitManagerTroubleshoot.translations.ensureGitInstalled,\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check Git directory\r\n     */\r\n    async checkGitDirectory() {\r\n        try {\r\n            const requestData = {\r\n                step: \"git-directory\",\r\n            };\r\n\r\n            // Add repository ID if available\r\n            if (this.repoId) {\r\n                requestData.repo_id = this.repoId;\r\n            }\r\n\r\n            const response = await this.makeAjaxRequest(\r\n                \"git_manager_troubleshoot_step\",\r\n                requestData\r\n            );\r\n\r\n            return {\r\n                stepId: \"git-directory\",\r\n                status:\r\n                    response.data.status ||\r\n                    (response.success ? \"success\" : \"error\"),\r\n                message: response.data.message,\r\n                solution: response.data.solution || null,\r\n                details: response.data.details || null,\r\n            };\r\n        } catch (error) {\r\n            return {\r\n                stepId: \"git-directory\",\r\n                status: \"error\",\r\n                message:\r\n                    WPGitManagerTroubleshoot.translations\r\n                        .failedToCheckDirectory,\r\n                solution:\r\n                    WPGitManagerTroubleshoot.translations.ensureValidRepository,\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check safe directory configuration\r\n     */\r\n    async checkSafeDirectory() {\r\n        try {\r\n            const requestData = {\r\n                step: \"safe-directory\",\r\n            };\r\n\r\n            // Add repository ID if available\r\n            if (this.repoId) {\r\n                requestData.repo_id = this.repoId;\r\n            }\r\n\r\n            const response = await this.makeAjaxRequest(\r\n                \"git_manager_troubleshoot_step\",\r\n                requestData\r\n            );\r\n\r\n            return {\r\n                stepId: \"safe-directory\",\r\n                status:\r\n                    response.data.status ||\r\n                    (response.success ? \"success\" : \"warning\"),\r\n                message: response.data.message,\r\n                solution: response.data.solution || null,\r\n                details: response.data.details || null,\r\n            };\r\n        } catch (error) {\r\n            return {\r\n                stepId: \"safe-directory\",\r\n                status: \"error\",\r\n                message:\r\n                    WPGitManagerTroubleshoot.translations\r\n                        .failedToCheckSafeDirectory,\r\n                solution:\r\n                    WPGitManagerTroubleshoot.translations\r\n                        .checkGitConfigManually,\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check file permissions\r\n     */\r\n    async checkPermissions() {\r\n        try {\r\n            const requestData = {\r\n                step: \"permissions\",\r\n            };\r\n\r\n            // Add repository ID if available\r\n            if (this.repoId) {\r\n                requestData.repo_id = this.repoId;\r\n            }\r\n\r\n            const response = await this.makeAjaxRequest(\r\n                \"git_manager_troubleshoot_step\",\r\n                requestData\r\n            );\r\n\r\n            return {\r\n                stepId: \"permissions\",\r\n                status:\r\n                    response.data.status ||\r\n                    (response.success ? \"success\" : \"warning\"),\r\n                message: response.data.message,\r\n                solution: response.data.solution || null,\r\n                details: response.data.details || null,\r\n            };\r\n        } catch (error) {\r\n            return {\r\n                stepId: \"permissions\",\r\n                status: \"error\",\r\n                message:\r\n                    WPGitManagerTroubleshoot.translations\r\n                        .failedToCheckPermissions,\r\n                solution:\r\n                    WPGitManagerTroubleshoot.translations\r\n                        .checkPermissionsManually,\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check SSH directory\r\n     */\r\n    async checkSshDirectory() {\r\n        try {\r\n            const requestData = {\r\n                step: \"ssh-directory\",\r\n            };\r\n\r\n            // Add repository ID if available\r\n            if (this.repoId) {\r\n                requestData.repo_id = this.repoId;\r\n            }\r\n\r\n            const response = await this.makeAjaxRequest(\r\n                \"git_manager_troubleshoot_step\",\r\n                requestData\r\n            );\r\n\r\n            return {\r\n                stepId: \"ssh-directory\",\r\n                status:\r\n                    response.data.status ||\r\n                    (response.success ? \"success\" : \"warning\"),\r\n                message: response.data.message,\r\n                solution: response.data.solution || null,\r\n                details: response.data.details || null,\r\n            };\r\n        } catch (error) {\r\n            return {\r\n                stepId: \"ssh-directory\",\r\n                status: \"error\",\r\n                message: WPGitManagerTroubleshoot.translations.failedToCheckSSH,\r\n                solution:\r\n                    WPGitManagerTroubleshoot.translations.checkSSHManually,\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check SSH keys\r\n     */\r\n    async checkSshKeys() {\r\n        try {\r\n            const requestData = {\r\n                step: \"ssh-keys\",\r\n            };\r\n\r\n            // Add repository ID if available\r\n            if (this.repoId) {\r\n                requestData.repo_id = this.repoId;\r\n            }\r\n\r\n            const response = await this.makeAjaxRequest(\r\n                \"git_manager_troubleshoot_step\",\r\n                requestData\r\n            );\r\n\r\n            return {\r\n                stepId: \"ssh-keys\",\r\n                status:\r\n                    response.data.status ||\r\n                    (response.success ? \"success\" : \"warning\"),\r\n                message: response.data.message,\r\n                solution: response.data.solution || null,\r\n                details: response.data.details || null,\r\n            };\r\n        } catch (error) {\r\n            return {\r\n                stepId: \"ssh-keys\",\r\n                status: \"error\",\r\n                message: \"Failed to check SSH keys\",\r\n                solution: \"Please check SSH keys manually\",\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check host keys\r\n     */\r\n    async checkHostKeys() {\r\n        try {\r\n            const requestData = {\r\n                step: \"host-keys\",\r\n            };\r\n\r\n            // Add repository ID if available\r\n            if (this.repoId) {\r\n                requestData.repo_id = this.repoId;\r\n            }\r\n\r\n            const response = await this.makeAjaxRequest(\r\n                \"git_manager_troubleshoot_step\",\r\n                requestData\r\n            );\r\n\r\n            return {\r\n                stepId: \"host-keys\",\r\n                status:\r\n                    response.data.status ||\r\n                    (response.success ? \"success\" : \"warning\"),\r\n                message: response.data.message,\r\n                solution: response.data.solution || null,\r\n                details: response.data.details || null,\r\n            };\r\n        } catch (error) {\r\n            return {\r\n                stepId: \"host-keys\",\r\n                status: \"error\",\r\n                message: \"Failed to check host keys\",\r\n                solution: \"Please check host keys manually\",\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check Git configuration\r\n     */\r\n    async checkGitConfig() {\r\n        try {\r\n            const requestData = {\r\n                step: \"git-config\",\r\n            };\r\n\r\n            // Add repository ID if available\r\n            if (this.repoId) {\r\n                requestData.repo_id = this.repoId;\r\n            }\r\n\r\n            const response = await this.makeAjaxRequest(\r\n                \"git_manager_troubleshoot_step\",\r\n                requestData\r\n            );\r\n\r\n            return {\r\n                stepId: \"git-config\",\r\n                status:\r\n                    response.data.status ||\r\n                    (response.success ? \"success\" : \"warning\"),\r\n                message: response.data.message,\r\n                solution: response.data.solution || null,\r\n                details: response.data.details || null,\r\n            };\r\n        } catch (error) {\r\n            return {\r\n                stepId: \"git-config\",\r\n                status: \"error\",\r\n                message: \"Failed to check Git configuration\",\r\n                solution: \"Please check Git configuration manually\",\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Test remote connection\r\n     */\r\n    async testRemoteConnection() {\r\n        try {\r\n            const requestData = {\r\n                step: \"remote-test\",\r\n            };\r\n\r\n            // Add repository ID if available\r\n            if (this.repoId) {\r\n                requestData.repo_id = this.repoId;\r\n            }\r\n\r\n            const response = await this.makeAjaxRequest(\r\n                \"git_manager_troubleshoot_step\",\r\n                requestData\r\n            );\r\n\r\n            return {\r\n                stepId: \"remote-test\",\r\n                status:\r\n                    response.data.status ||\r\n                    (response.success ? \"success\" : \"warning\"),\r\n                message: response.data.message,\r\n                solution: response.data.solution || null,\r\n                details: response.data.details || null,\r\n            };\r\n        } catch (error) {\r\n            return {\r\n                stepId: \"remote-test\",\r\n                status: \"error\",\r\n                message: \"Failed to test remote connection\",\r\n                solution: \"Please check network connectivity and remote URL\",\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get Lucide icon by Font Awesome class name\r\n     */\r\n    getLucideIcon(faClass) {\r\n        const iconMap = {\r\n            \"fa-folder\":\r\n                '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M10 10.5 8 13l2 2.5\"/><path d=\"m14 10.5 2 2.5-2 2.5\"/><path d=\"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2z\"/></svg>',\r\n            \"fa-code-branch\":\r\n                '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"3\"/><line x1=\"3\" x2=\"9\" y1=\"12\" y2=\"12\"/><line x1=\"15\" x2=\"21\" y1=\"12\" y2=\"12\"/></svg>',\r\n            \"fa-git-alt\":\r\n                '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v5\"/><circle cx=\"13\" cy=\"12\" r=\"2\"/><path d=\"M18 19c-2.8 0-5-2.2-5-5v8\"/><circle cx=\"20\" cy=\"19\" r=\"2\"/></svg>',\r\n            \"fa-shield-halved\":\r\n                '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\"/><path d=\"M9 12h6\"/><path d=\"M12 9v6\"/></svg>',\r\n            \"fa-key\":\r\n                '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v6\"/><path d=\"M14 2v4a2 2 0 0 0 2 2h4\"/><circle cx=\"4\" cy=\"16\" r=\"2\"/><path d=\"m10 10-4.5 4.5\"/><path d=\"m9 11 1 1\"/></svg>',\r\n            \"fa-terminal\":\r\n                '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M12 19h8\"/><path d=\"m4 17 6-6-6-6\"/></svg>',\r\n            \"fa-server\":\r\n                '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect width=\"20\" height=\"8\" x=\"2\" y=\"2\" rx=\"2\" ry=\"2\"/><rect width=\"20\" height=\"8\" x=\"2\" y=\"14\" rx=\"2\" ry=\"2\"/><line x1=\"6\" x2=\"6.01\" y1=\"6\" y2=\"6\"/><line x1=\"6\" x2=\"6.01\" y1=\"18\" y2=\"18\"/></svg>',\r\n            \"fa-cog\":\r\n                '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M11 10.27 7 3.34\"/><path d=\"m11 13.73-4 6.93\"/><path d=\"M12 22v-2\"/><path d=\"M12 2v2\"/><path d=\"M14 12h8\"/><path d=\"m17 20.66-1-1.73\"/><path d=\"m17 3.34-1 1.73\"/><path d=\"M2 12h2\"/><path d=\"m20.66 17-1.73-1\"/><path d=\"m20.66 7-1.73 1\"/><path d=\"m3.34 17 1.73-1\"/><path d=\"m3.34 7 1.73 1\"/><circle cx=\"12\" cy=\"12\" r=\"2\"/><circle cx=\"12\" cy=\"12\" r=\"8\"/></svg>',\r\n            \"fa-wifi\":\r\n                '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M17 19a1 1 0 0 1-1-1v-2a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2a1 1 0 0 1-1 1z\"/><path d=\"M17 21v-2\"/><path d=\"M19 14V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V10\"/><path d=\"M21 21v-2\"/><path d=\"M3 5V3\"/><path d=\"M4 10a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2a2 2 0 0 1-2 2z\"/><path d=\"M7 5V3\"/></svg>',\r\n        };\r\n        return (\r\n            iconMap[faClass] ||\r\n            '<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"m9.09 9 3.83 3.83L16.91 9\"/></svg>'\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Update step status with visual feedback\r\n     */\r\n    updateStepStatus(stepId, status) {\r\n        const statusIcon = document.getElementById(`status-${stepId}`);\r\n        if (!statusIcon) return;\r\n\r\n        // Remove all status classes\r\n        statusIcon.className = \"status-icon\";\r\n\r\n        // Add appropriate status class and icon\r\n        switch (status) {\r\n            case \"running\":\r\n                statusIcon.innerHTML =\r\n                    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z\"/></svg>';\r\n                statusIcon.classList.add(\"status-running\");\r\n                break;\r\n            case \"success\":\r\n                statusIcon.innerHTML =\r\n                    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z\"/><line x1=\"9\" x2=\"9.01\" y1=\"9\" y2=\"9\"/><line x1=\"15\" x2=\"15.01\" y1=\"9\" y2=\"9\"/></svg>';\r\n                statusIcon.classList.add(\"status-success\");\r\n                break;\r\n            case \"warning\":\r\n                statusIcon.innerHTML =\r\n                    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><line x1=\"8\" x2=\"16\" y1=\"15\" y2=\"15\"/><line x1=\"9\" x2=\"9.01\" y1=\"9\" y2=\"9\"/><line x1=\"15\" x2=\"15.01\" y1=\"9\" y2=\"9\"/></svg>';\r\n                statusIcon.classList.add(\"status-warning\");\r\n                break;\r\n            case \"error\":\r\n                statusIcon.innerHTML =\r\n                    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M16 16s-1.5-2-4-2-4 2-4 2\"/><line x1=\"9\" x2=\"9.01\" y1=\"9\" y2=\"9\"/><line x1=\"15\" x2=\"15.01\" y1=\"9\" y2=\"9\"/></svg>';\r\n                statusIcon.classList.add(\"status-error\");\r\n                break;\r\n            default:\r\n                statusIcon.innerHTML =\r\n                    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z\"/><path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"/><line x1=\"12\" x2=\"12.01\" y1=\"17\" y2=\"17\"/></svg>';\r\n                statusIcon.classList.add(\"status-pending\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Show step content with results\r\n     */\r\n    showStepContent(stepId, result) {\r\n        const logContainer = document.getElementById(`log-${stepId}`);\r\n        const solutionContainer = document.getElementById(`solution-${stepId}`);\r\n        const contentContainer = document.getElementById(`content-${stepId}`);\r\n\r\n        if (!logContainer || !solutionContainer || !contentContainer) return;\r\n\r\n        // Show log\r\n        logContainer.innerHTML = `\r\n             <div class=\"step-message ${result.status}\">\r\n                 ${this.getStatusIcon(result.status)}\r\n                 <span>${result.message}</span>\r\n             </div>\r\n             ${\r\n                 result.details\r\n                     ? `<div class=\"step-details\">${result.details}</div>`\r\n                     : \"\"\r\n             }\r\n         `;\r\n\r\n        // Show solution if available\r\n        if (result.solution) {\r\n            solutionContainer.innerHTML = `\r\n                 <div class=\"solution-content\">\r\n                     <h4><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M9 12l2 2 4-4\"/><path d=\"M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9\"/></svg> Solution</h4>\r\n                     <div class=\"solution-text\">${result.solution}</div>\r\n                 </div>\r\n             `;\r\n            solutionContainer.style.display = \"block\";\r\n        }\r\n\r\n        // Show content\r\n        contentContainer.style.display = \"block\";\r\n\r\n        // Apply RTL support to newly added content\r\n        this.applyRTLToNewContent();\r\n    }\r\n\r\n    /**\r\n     * Show troubleshooting summary\r\n     */\r\n    showSummary() {\r\n        const summaryContainer = document.getElementById(\r\n            \"troubleshoot-summary\"\r\n        );\r\n        if (!summaryContainer) return;\r\n\r\n        const successCount = this.results.filter(\r\n            (r) => r.status === \"success\"\r\n        ).length;\r\n        const warningCount = this.results.filter(\r\n            (r) => r.status === \"warning\"\r\n        ).length;\r\n        const errorCount = this.results.filter(\r\n            (r) => r.status === \"error\"\r\n        ).length;\r\n\r\n        const summaryHTML = `\r\n             <div class=\"troubleshoot-summary-content\">\r\n                 <h3><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M8 5h13\"/><path d=\"M13 12h8\"/><path d=\"M13 19h8\"/><path d=\"M3 10a2 2 0 0 0 2 2h3\"/><path d=\"M3 5v12a2 2 0 0 0 2 2h3\"/></svg> Troubleshooting Summary</h3>\r\n                 <div class=\"summary-stats\">\r\n                     <div class=\"stat-item success\">\r\n                         <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M2 20h20\"/><path d=\"m9 10 2 2 4-4\"/><rect x=\"3\" y=\"4\" width=\"18\" height=\"12\" rx=\"2\"/></svg>\r\n                         <span>${successCount} Passed</span>\r\n                     </div>\r\n                     <div class=\"stat-item warning\">\r\n                         <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\"/><path d=\"M12 9v4\"/><path d=\"M12 17h.01\"/></svg>\r\n                         <span>${warningCount} Warnings</span>\r\n                     </div>\r\n                     <div class=\"stat-item danger\">\r\n                         <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m15 9-6 6\"/><path d=\"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688-4.688A2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z\"/><path d=\"m9 9 6 6\"/></svg>\r\n                         <span>${errorCount} Failed</span>\r\n                     </div>\r\n                 </div>\r\n                 ${this.generateSummaryRecommendations()}\r\n             </div>\r\n         `;\r\n\r\n        summaryContainer.innerHTML = summaryHTML;\r\n        summaryContainer.style.display = \"block\";\r\n\r\n        // Apply RTL support to newly added summary content\r\n        this.applyRTLToNewContent();\r\n    }\r\n\r\n    /**\r\n     * Generate summary recommendations\r\n     */\r\n    generateSummaryRecommendations() {\r\n        const errors = this.results.filter((r) => r.status === \"error\");\r\n        const warnings = this.results.filter((r) => r.status === \"warning\");\r\n\r\n        if (errors.length === 0 && warnings.length === 0) {\r\n            return `\r\n                 <div class=\"summary-recommendation success\">\r\n                     <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M7 10v12\"/><path d=\"M15 4.01v3\"/><path d=\"M15 19.01v-3\"/><path d=\"M15 4.01c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2z\"/><path d=\"M7 10c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2z\"/></svg>\r\n                     <div>\r\n                         <strong>All checks passed!</strong>\r\n                         <p>Your Git setup appears to be working correctly. You should be able to use all Repo Manager features.</p>\r\n                     </div>\r\n                 </div>\r\n             `;\r\n        }\r\n\r\n        let recommendations = '<div class=\"summary-recommendations\">';\r\n\r\n        if (errors.length > 0) {\r\n            recommendations += `\r\n                 <div class=\"recommendation-section\">\r\n                     <h4><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M13 5h8\"/><path d=\"M13 12h8\"/><path d=\"M13 19h8\"/><path d=\"m3 17 2 2 4-4\"/><path d=\"m3 7 2 2 4-4\"/></svg> Critical Issues (${\r\n                         errors.length\r\n                     })</h4>\r\n                     <ul>\r\n                         ${errors\r\n                             .map(\r\n                                 (error) =>\r\n                                     `<li>${this.getStepTitle(error.stepId)}: ${\r\n                                         error.message\r\n                                     }</li>`\r\n                             )\r\n                             .join(\"\")}\r\n                     </ul>\r\n                 </div>\r\n             `;\r\n        }\r\n\r\n        if (warnings.length > 0) {\r\n            recommendations += `\r\n                 <div class=\"recommendation-section\">\r\n                     <h4><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M13 5h8\"/><path d=\"M13 12h8\"/><path d=\"M13 19h8\"/><path d=\"m3 17 2 2 4-4\"/><path d=\"m3 7 2 2 4-4\"/></svg> Recommendations (${\r\n                         warnings.length\r\n                     })</h4>\r\n                     <ul>\r\n                         ${warnings\r\n                             .map(\r\n                                 (warning) =>\r\n                                     `<li>${this.getStepTitle(\r\n                                         warning.stepId\r\n                                     )}: ${warning.message}</li>`\r\n                             )\r\n                             .join(\"\")}\r\n                     </ul>\r\n                 </div>\r\n             `;\r\n        }\r\n\r\n        recommendations += \"</div>\";\r\n        return recommendations;\r\n    }\r\n\r\n    /**\r\n     * Get step title by ID\r\n     */\r\n    getStepTitle(stepId) {\r\n        const steps = this.getTroubleshootSteps();\r\n        const step = steps.find((s) => s.id === stepId);\r\n        return step ? step.title : stepId;\r\n    }\r\n\r\n    /**\r\n     * Stop troubleshooting\r\n     */\r\n    stopTroubleshooting() {\r\n        this.isRunning = false;\r\n        this.updateProgress(0, 0, \"Troubleshooting stopped\");\r\n\r\n        // Reset UI\r\n        document.getElementById(\"troubleshoot-start\").style.display =\r\n            \"inline-flex\";\r\n        document.getElementById(\"troubleshoot-stop\").style.display = \"none\";\r\n    }\r\n\r\n    /**\r\n     * Reset troubleshooting\r\n     */\r\n    resetTroubleshooting() {\r\n        this.isRunning = false;\r\n        this.currentStep = 0;\r\n        this.results = [];\r\n\r\n        // Reset UI\r\n        document.getElementById(\"troubleshoot-start\").style.display =\r\n            \"inline-flex\";\r\n        document.getElementById(\"troubleshoot-stop\").style.display = \"none\";\r\n        document.getElementById(\"troubleshoot-summary\").style.display = \"none\";\r\n        this.updateProgress(0, 0, \"Ready to start\");\r\n\r\n        // Reset all step statuses\r\n        const steps = this.getTroubleshootSteps();\r\n        steps.forEach((step) => {\r\n            this.updateStepStatus(step.id, \"pending\");\r\n            const content = document.getElementById(`content-${step.id}`);\r\n            if (content) {\r\n                content.style.display = \"none\";\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Apply RTL support to the troubleshooting interface\r\n     */\r\n    applyRTLSupport() {\r\n        // Check if RTL support is available and active\r\n        if (window.gitManagerRTL && window.gitManagerRTL.isRTLActive()) {\r\n            // Apply RTL styles to the troubleshooting container\r\n            const troubleshootContainer = document.querySelector(\r\n                \".troubleshoot-container\"\r\n            );\r\n            if (troubleshootContainer) {\r\n                troubleshootContainer.setAttribute(\"dir\", \"rtl\");\r\n                troubleshootContainer.classList.add(\"repo-manager-rtl\");\r\n            }\r\n\r\n            // Update layout for RTL\r\n            this.updateRTLayout();\r\n        } else {\r\n            // Ensure LTR layout for troubleshooting container\r\n            const troubleshootContainer = document.querySelector(\r\n                \".troubleshoot-container\"\r\n            );\r\n            if (troubleshootContainer) {\r\n                troubleshootContainer.setAttribute(\"dir\", \"ltr\");\r\n                troubleshootContainer.classList.remove(\"repo-manager-rtl\");\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update layout for RTL support\r\n     */\r\n    updateRTLayout() {\r\n        // Update troubleshooting header\r\n        const troubleshootTitle = document.querySelector(\".troubleshoot-title\");\r\n        if (troubleshootTitle) {\r\n            troubleshootTitle.style.flexDirection = \"row-reverse\";\r\n        }\r\n\r\n        const troubleshootProgress = document.querySelector(\r\n            \".troubleshoot-progress\"\r\n        );\r\n        if (troubleshootProgress) {\r\n            troubleshootProgress.style.flexDirection = \"row-reverse\";\r\n        }\r\n\r\n        // Update step headers\r\n        const stepHeaders = document.querySelectorAll(\".step-header\");\r\n        stepHeaders.forEach((header) => {\r\n            header.style.flexDirection = \"row-reverse\";\r\n        });\r\n\r\n        // Update step icons\r\n        const stepIcons = document.querySelectorAll(\".step-icon\");\r\n        stepIcons.forEach((icon) => {\r\n            const computedStyle = window.getComputedStyle(icon);\r\n            const marginRight = computedStyle.marginRight;\r\n            if (marginRight !== \"0px\") {\r\n                icon.style.marginLeft = marginRight;\r\n                icon.style.marginRight = \"0\";\r\n            }\r\n        });\r\n\r\n        // Update step status\r\n        const stepStatuses = document.querySelectorAll(\".step-status\");\r\n        stepStatuses.forEach((status) => {\r\n            const computedStyle = window.getComputedStyle(status);\r\n            const marginLeft = computedStyle.marginLeft;\r\n            if (marginLeft !== \"0px\") {\r\n                status.style.marginRight = marginLeft;\r\n                status.style.marginLeft = \"0\";\r\n            }\r\n        });\r\n\r\n        // Update step info text alignment\r\n        const stepInfos = document.querySelectorAll(\".step-info\");\r\n        stepInfos.forEach((info) => {\r\n            info.style.textAlign = \"right\";\r\n        });\r\n\r\n        // Update step messages\r\n        const stepMessages = document.querySelectorAll(\".step-message\");\r\n        stepMessages.forEach((message) => {\r\n            message.style.flexDirection = \"row-reverse\";\r\n        });\r\n\r\n        // Update troubleshooting actions\r\n        const troubleshootActions = document.querySelector(\r\n            \".troubleshoot-actions\"\r\n        );\r\n        if (troubleshootActions) {\r\n            troubleshootActions.style.flexDirection = \"row-reverse\";\r\n        }\r\n\r\n        const troubleshootBtns = document.querySelectorAll(\".troubleshoot-btn\");\r\n        troubleshootBtns.forEach((btn) => {\r\n            btn.style.flexDirection = \"row-reverse\";\r\n        });\r\n\r\n        // Update summary elements\r\n        const summaryContent = document.querySelector(\r\n            \".troubleshoot-summary-content\"\r\n        );\r\n        if (summaryContent) {\r\n            summaryContent.style.textAlign = \"right\";\r\n        }\r\n\r\n        const summaryTitle = document.querySelector(\r\n            \".troubleshoot-summary-content h3\"\r\n        );\r\n        if (summaryTitle) {\r\n            summaryTitle.style.flexDirection = \"row-reverse\";\r\n        }\r\n\r\n        const summaryStats = document.querySelector(\".summary-stats\");\r\n        if (summaryStats) {\r\n            summaryStats.style.flexDirection = \"row-reverse\";\r\n        }\r\n\r\n        const statItems = document.querySelectorAll(\".stat-item\");\r\n        statItems.forEach((item) => {\r\n            item.style.flexDirection = \"row-reverse\";\r\n        });\r\n\r\n        const summaryRecommendations = document.querySelectorAll(\r\n            \".summary-recommendation\"\r\n        );\r\n        summaryRecommendations.forEach((rec) => {\r\n            rec.style.flexDirection = \"row-reverse\";\r\n        });\r\n\r\n        const recommendationSections = document.querySelectorAll(\r\n            \".recommendation-section h4\"\r\n        );\r\n        recommendationSections.forEach((section) => {\r\n            section.style.flexDirection = \"row-reverse\";\r\n        });\r\n\r\n        // Update recommendation lists\r\n        const recommendationLists = document.querySelectorAll(\r\n            \".recommendation-section ul\"\r\n        );\r\n        recommendationLists.forEach((list) => {\r\n            list.style.paddingLeft = \"0\";\r\n            list.style.paddingRight = \"24px\";\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Apply RTL support to newly added content\r\n     */\r\n    applyRTLToNewContent() {\r\n        // Check if RTL support is available and active\r\n        if (window.gitManagerRTL && window.gitManagerRTL.isRTLActive()) {\r\n            // Apply RTL to step messages\r\n            const stepMessages = document.querySelectorAll(\".step-message\");\r\n            stepMessages.forEach((message) => {\r\n                message.style.flexDirection = \"row-reverse\";\r\n                const icon = message.querySelector(\"svg\");\r\n                if (icon) {\r\n                    icon.style.marginRight = \"0\";\r\n                    icon.style.marginLeft = \"12px\";\r\n                }\r\n            });\r\n\r\n            // Apply RTL to solution content\r\n            const solutionHeaders = document.querySelectorAll(\r\n                \".solution-content h4\"\r\n            );\r\n            solutionHeaders.forEach((header) => {\r\n                header.style.flexDirection = \"row-reverse\";\r\n                const icon = header.querySelector(\"svg\");\r\n                if (icon) {\r\n                    icon.style.marginRight = \"0\";\r\n                    icon.style.marginLeft = \"8px\";\r\n                }\r\n            });\r\n\r\n            // Apply RTL to summary content\r\n            const summaryTitle = document.querySelector(\r\n                \".troubleshoot-summary-content h3\"\r\n            );\r\n            if (summaryTitle) {\r\n                summaryTitle.style.flexDirection = \"row-reverse\";\r\n                const icon = summaryTitle.querySelector(\"svg\");\r\n                if (icon) {\r\n                    icon.style.marginRight = \"0\";\r\n                    icon.style.marginLeft = \"12px\";\r\n                }\r\n            }\r\n\r\n            // Apply RTL to stat items\r\n            const statItems = document.querySelectorAll(\".stat-item\");\r\n            statItems.forEach((item) => {\r\n                item.style.flexDirection = \"row-reverse\";\r\n                const icon = item.querySelector(\"svg\");\r\n                if (icon) {\r\n                    icon.style.marginRight = \"0\";\r\n                    icon.style.marginLeft = \"8px\";\r\n                }\r\n            });\r\n\r\n            // Apply RTL to summary recommendations\r\n            const summaryRecommendations = document.querySelectorAll(\r\n                \".summary-recommendation\"\r\n            );\r\n            summaryRecommendations.forEach((rec) => {\r\n                rec.style.flexDirection = \"row-reverse\";\r\n                const icon = rec.querySelector(\"svg\");\r\n                if (icon) {\r\n                    icon.style.marginRight = \"0\";\r\n                    icon.style.marginLeft = \"16px\";\r\n                }\r\n            });\r\n\r\n            // Apply RTL to recommendation sections\r\n            const recommendationSections = document.querySelectorAll(\r\n                \".recommendation-section h4\"\r\n            );\r\n            recommendationSections.forEach((section) => {\r\n                section.style.flexDirection = \"row-reverse\";\r\n                const icon = section.querySelector(\"svg\");\r\n                if (icon) {\r\n                    icon.style.marginRight = \"0\";\r\n                    icon.style.marginLeft = \"8px\";\r\n                }\r\n            });\r\n\r\n            // Apply RTL to recommendation lists\r\n            const recommendationLists = document.querySelectorAll(\r\n                \".recommendation-section ul\"\r\n            );\r\n            recommendationLists.forEach((list) => {\r\n                list.style.paddingLeft = \"0\";\r\n                list.style.paddingRight = \"24px\";\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get status icon\r\n     */\r\n    getStatusIcon(status) {\r\n        switch (status) {\r\n            case \"success\":\r\n                return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M20 6 9 17l-5-5\"/></svg>';\r\n            case \"warning\":\r\n                return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M18 8L22 12L18 16\"/><path d=\"M2 12H22\"/></svg>';\r\n            case \"error\":\r\n                return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m15 9-6 6\"/><path d=\"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z\"/><path d=\"m9 9 6 6\"/></svg>';\r\n            default:\r\n                return '<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"m9.09 9 3.83 3.83L16.91 9\"/></svg>';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update progress bar\r\n     */\r\n    updateProgress(current, total, text) {\r\n        const progressFill = document.getElementById(\r\n            \"troubleshoot-progress-fill\"\r\n        );\r\n        const progressText = document.getElementById(\r\n            \"troubleshoot-progress-text\"\r\n        );\r\n\r\n        if (progressFill && progressText) {\r\n            const percentage = total > 0 ? (current / total) * 100 : 0;\r\n            progressFill.style.width = `${percentage}%`;\r\n            progressText.textContent = text;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Make AJAX request\r\n     */\r\n    async makeAjaxRequest(action, data = {}) {\r\n        const formData = new FormData();\r\n        formData.append(\"action\", action);\r\n\r\n        // Get nonce from various possible sources\r\n        let nonce = \"\";\r\n        if (\r\n            typeof WPGitManagerGlobal !== \"undefined\" &&\r\n            WPGitManagerGlobal.action_nonces &&\r\n            WPGitManagerGlobal.action_nonces[action]\r\n        ) {\r\n            nonce = WPGitManagerGlobal.action_nonces[action];\r\n        } else if (\r\n            typeof WPGitManagerGlobal !== \"undefined\" &&\r\n            WPGitManagerGlobal.nonce\r\n        ) {\r\n            nonce = WPGitManagerGlobal.nonce;\r\n        } else if (\r\n            typeof gitManagerAjax !== \"undefined\" &&\r\n            gitManagerAjax.nonce\r\n        ) {\r\n            nonce = gitManagerAjax.nonce;\r\n        } else if (document.getElementById(\"git_manager_nonce\")) {\r\n            nonce = document.getElementById(\"git_manager_nonce\").value;\r\n        } else if (typeof wpAjax !== \"undefined\" && wpAjax.nonce) {\r\n            nonce = wpAjax.nonce;\r\n        }\r\n\r\n        if (!nonce) {\r\n        }\r\n\r\n        formData.append(\"nonce\", nonce);\r\n\r\n        // Add additional data\r\n        Object.keys(data).forEach((key) => {\r\n            formData.append(key, data[key]);\r\n        });\r\n\r\n        // Get AJAX URL\r\n        let ajaxUrl = \"\";\r\n        if (typeof ajaxurl !== \"undefined\") {\r\n            ajaxUrl = ajaxurl;\r\n        } else if (\r\n            typeof gitManagerAjax !== \"undefined\" &&\r\n            gitManagerAjax.ajaxurl\r\n        ) {\r\n            ajaxUrl = gitManagerAjax.ajaxurl;\r\n        } else if (typeof wpAjax !== \"undefined\" && wpAjax.ajaxurl) {\r\n            ajaxUrl = wpAjax.ajaxurl;\r\n        } else {\r\n            // Fallback - this should not happen if wp_localize_script is properly used\r\n            ajaxUrl = null;\r\n        }\r\n\r\n        if (!ajaxUrl) {\r\n            throw new Error(\r\n                \"AJAX URL not available. Please ensure the plugin is properly configured.\"\r\n            );\r\n        }\r\n\r\n        try {\r\n            const response = await fetch(ajaxUrl, {\r\n                method: \"POST\",\r\n                body: formData,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! status: ${response.status}`);\r\n            }\r\n\r\n            const result = await response.json();\r\n\r\n            return result;\r\n        } catch (error) {\r\n            // Return a structured error response\r\n            return {\r\n                success: false,\r\n                data: {\r\n                    status: \"error\",\r\n                    message: `AJAX request failed: ${error.message}`,\r\n                    solution:\r\n                        \"Please check your network connection and try again. If the problem persists, contact your administrator.\",\r\n                    details: error.toString(),\r\n                },\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Utility delay function\r\n     */\r\n    delay(ms) {\r\n        return new Promise((resolve) => setTimeout(resolve, ms));\r\n    }\r\n}\r\n\r\n// Make GitTroubleshooter globally available\r\nwindow.GitTroubleshooter = GitTroubleshooter;\r\n\r\n// Initialize when DOM is ready\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    // Bind legacy Run Troubleshooting button if present\r\n    const runBtn = document.getElementById(\"run-troubleshoot\");\r\n    if (runBtn) {\r\n        runBtn.addEventListener(\"click\", function (e) {\r\n            e.preventDefault();\r\n            // Show legacy output container if hidden\r\n            const legacyOut = document.getElementById(\"troubleshoot-output\");\r\n            if (legacyOut) legacyOut.style.display = \"block\";\r\n            // Create and start troubleshooter\r\n            window.gitTroubleshooter = new GitTroubleshooter();\r\n            // Use current repo if available\r\n            const repoId =\r\n                window.GitManager && window.GitManager.currentRepo\r\n                    ? window.GitManager.currentRepo\r\n                    : null;\r\n            window.gitTroubleshooter.init(repoId).then(() => {\r\n                window.gitTroubleshooter.startTroubleshooting();\r\n            });\r\n        });\r\n    }\r\n\r\n    // Existing auto-init when repo-manager-output exists\r\n    if (document.getElementById(\"repo-manager-output\")) {\r\n        // Check if we're in repository context (GitManager is available and has currentRepo)\r\n        if (window.GitManager && window.GitManager.currentRepo) {\r\n            window.gitTroubleshooter = new GitTroubleshooter();\r\n            window.gitTroubleshooter.init(window.GitManager.currentRepo);\r\n        } else if (\r\n            window.location.href.includes(\"repo-manager-troubleshooting\")\r\n        ) {\r\n            // Global troubleshooting page\r\n            window.gitTroubleshooter = new GitTroubleshooter();\r\n            window.gitTroubleshooter.init();\r\n        }\r\n    }\r\n});\r\n"],"names":[],"sourceRoot":""}